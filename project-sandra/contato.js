document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("formulario");a.addEventListener("submit",function(a){a.preventDefault(),document.getElementById("botao-enviar").disabled=!0,enviarFormulario()})});async function enviarFormulario(){try{const a=document.getElementById("nome").value,b=document.getElementById("email").value,c=document.getElementById("telefone").value,d=document.getElementById("mensagem").value;if(!a||!b||!c)throw new Error("Por favor, preencha todos os campos obrigat\xF3rios.");const e=await fetch("http://localhost:3000/salvar-dados",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:a,email:b,telefone:c,mensagem:d})}),f=await e.json();if(f.success)alert("Formul\xE1rio enviado com sucesso! Entraremos em contato em breve."),mostrarNotificacao("Formul\xE1rio enviado com sucesso!"),document.getElementById("formulario").removeEventListener("submit",enviarFormulario);else throw new Error("Erro ao enviar o formul\xE1rio.")}catch(a){console.error("Erro ao enviar o formul\xE1rio:",a.message),alert("Ocorreu um erro ao enviar o formul\xE1rio. Por favor, tente novamente mais tarde.")}finally{document.getElementById("botao-enviar").disabled=!1}}function mostrarNotificacao(a){if("Notification"in window)if("granted"===Notification.permission){new Notification("Notifica\xE7\xE3o de Envio",{body:a})}else"denied"!==Notification.permission&&Notification.requestPermission().then(b=>{if("granted"===b){new Notification("Notifica\xE7\xE3o de Envio",{body:a})}})}